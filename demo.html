<html>
    <head> 
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
		    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
        <script type="text/javascript" src="fragment.js"></script>
        <style>
            #target div{
                width: 30px;
                height: 30px;
                margin: 3px;
                line-height: 30px;
                font-size: 11px;
                font-weight: bold;
                border: 1px solid red;
                display: inline-block;
                text-align: center;
            }
        </style>
    
        <script type="text/javascript">
            var i = 1;

            function element() {
                var e = $("<div>").html(i);
                i++;
                $("#value span").html(i);
                return e;
            }
            
            $(function () {
                $("#appendToFrg").click(function() {
                  $("#target").appendToFragment(element());
                });
                $("#prependToFrg").click(function() {
                  $("#target").prependToFragment(element());
                });
                $("#removeFrg").click(function() {
                  $("#target").removeFragment(element());
                });
                $("#append").click(function() {
                  $("#target").appendFragment();
                });
                $("#prepend").click(function() {
                  $("#target").prependFragment();
                });
            })
        </script>  
    </head>
    <body>
        <div id="value">current value: <span>1</span></div>
        <div id="tools">
            <button id="appendToFrg">Append to fragment</button>
            <button id="prependToFrg">Prepend to fragment</button>
            <button id="removeFrg">Reset the fragment</button>
            <button id="append">Append the fragment</button>
            <button id="prepend">Prepend the fragment</button>
        </div>
        <div id="target"></div>
    </body>
</html>
